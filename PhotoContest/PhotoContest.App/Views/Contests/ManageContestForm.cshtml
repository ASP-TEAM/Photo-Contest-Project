@using PhotoContest.Models.Enums
@model PhotoContest.App.Models.BindingModels.Contest.UpdateContestBindingModel

@{
    ViewBag.Title = "Manage Contest";
}

@Html.Partial("_UpdateContestDataForm")

@if (Model.ParticipationStrategy.ParticipationStrategyType == ParticipationStrategyType.Closed ||
    Model.VotingStrategy.VotingStrategyType == VotingStrategyType.Closed)
{
    @Html.Partial("_InviteUsersFormPartial");
}

@if (Model.IsActive)
{
    <div class="finish-contest">
        @Ajax.ActionLink("Finalize", "FinalizeContest", "Contests", new { id = Model.Id },
        new AjaxOptions
        {
            HttpMethod = "POST",
            OnSuccess = "ajaxHelper.onSuccess",
            OnFailure = "ajaxHelper.onError"
        }, 
        new { @class = "btn btn-primary" })
        
        @Ajax.ActionLink("Dismiss", "DismissContest", "Contests", new { id = Model.Id },
        new AjaxOptions
        {
            HttpMethod = "POST",
            OnSuccess = "ajaxHelper.onSuccess",
            OnFailure = "ajaxHelper.onError"
        },
        new { @class = "btn btn-warning" })
    </div>
}